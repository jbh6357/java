package Controller;

import Model.MemberDAO;
import Model.MemberDTO;
import Model.Player;

import java.util.ArrayList;
import java.util.Random;

import Model.Building;
import Model.BuildingDAO;
import Model.BuildingDTO;
import Model.Dice;

public class Controller {
	// [Controller]
	// ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ì„œ ê·¸ì— ë§ëŠ” DBë¡œì§ì„ ì‹¤í–‰

	// dao : dbì—°ê²°, ì¿¼ë¦¬ë¬¸ì‹¤í–‰ ë©”ì†Œë“œ
	MemberDAO dao = new MemberDAO();
	BuildingDAO dao_b = new BuildingDAO();
	Player p = new Player();

	// join()ì˜ ë¦¬í„´ë°ì´í„°
	int result = 0;
	// list()ì˜ ë¦¬í„´ë°ì´í„°
	ArrayList<MemberDTO> resultList = new ArrayList<MemberDTO>();

	// íšŒì›ê°€ì…ìš©
	public int Con_join(String id, String pw, String name) {
		// ì „ë‹¬í•´ì•¼ í•˜ëŠ” ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ë¬¶ìŒìœ¼ë¡œ ë§Œë“¤ì–´ì„œ(ê°ì²´ ìƒì„±)
		MemberDTO dto = new MemberDTO(id, pw, name);
		result = dao.join(dto);
		return result;
	}

	// íšŒì›íƒˆí‡´ìš©
	public int Con_delete(String id, String pw) {

		MemberDTO dto = new MemberDTO();
		dto.setId(id);
		dto.setPw(pw);
		result = dao.delete(dto);
		return result;
	}

	// ë¡œê·¸ì¸ìš©
	public Player Con_login(String id, String pw) {
		MemberDTO dto = new MemberDTO(id, pw);
		p = dao.login(dto);
		return p;
	}

	public int[] rollDice() {
		Random random = new Random();
		int dice1 = random.nextInt(6) + 1;
		int dice2 = random.nextInt(6) + 1;
		System.out.println("ğŸ² ì£¼ì‚¬ìœ„ ê²°ê³¼: " + dice1 + " + " + dice2 + " = " + (dice1 + dice2));
		return new int[] { dice1, dice2 };
	}

	// ë­í‚¹í™•ì¸ìš©
	public ArrayList<MemberDTO> Con_lank() {
		resultList = dao.lank();
		return resultList;
	}

	// ë¹Œë”© ê°ì²´ ìƒì„±ìš©
	public ArrayList<Building> Con_list() {
		return dao_b.list();
	}

	public void conPlayUpdate(MemberDTO dto) {
		System.out.println("fdgd");
		dao.playUpdate(dto);
	}

//	public void Con_dice() {
//		Dice.dicesample();
//	}

}
